# **Oblig 4**

## **Innledning**
Denne rapporten vi omhandle både hvordan selve oblig4 har gått, samt refleksjoner rundt hele semesteroppgaven. 

## **Møtereferat**

**Dato: Torsdag 20.04.2023** <br>
**Sted: Vilvite** <br>
**Deltagere: Sandra, Hilde, Guro, Cecilie, Mattias** <br>
**Referent: Mattias** <br>

*Oppsummering:* <br>
Siden dette var første møte etter vi leverte inn oblig 3, startet det med refleksjoner fra forrige oblig. Disse kan lese mer i detalj under "Erfaringer rundt gruppen og prosjektmetodikk", men vi reflekterer både på hvordan vi har jobbet som team, og hvordan prosjektmetodikken har fungert. 

*Diskusjoner:* <br>
Det ble diskutert hvordan vi ta i bruk analyseverktøy for å forbedre koden. Vi ble enig om å bruke programmet "Spotbugs". Hvordan dette gikk kan leses mer om under "Analyseverktøy".

*Neste møte* <br>
Torsdag 27.04.2023 <br>

*Oppgaver til neste gang:* <br>
Begynne å fikse bugs vi finner i Spotbugs, samt se på hvordan vi kan implementere lyd i spillet. <br>
___

**Dato: Torsdag 27.04.2023** <br>
**Sted: Vilvite** <br>
**Deltagere: Sandra, Hilde, Guro, Cecilie, Mattias** <br>
**Referent: Mattias** <br>

*Oppsummering:* <br>
Siden det nå nærmer seg endelig innlevering har vi i hovedsak fokusert på hva som mangler før vi kan levere. Vi har siden sist implementert lyd og en "powerUp". Her mangler det noen småting, som vi skal se på til neste gang. Videre gikk mye av tiden til å diskutere tester <br>

*Diskusjoner:* <br>
Vi fikk tilbakemelding etter oblig 3 at vi manglet en del tester for å oppnå kravet. Her har vi diskutert hvordan vi skal løse dette. Siden mye av koden vår er avhengig av at vi har en grafisk brukerflate, har vi valgt å ikke teste dette ved bruk av unit-tester, men heller manuelle tester. Mer om dette kan leses under *Tester* <br>

*Neste møte* <br>
04.05.2023 <br>

*Oppgaver til neste gang:* <br>
Implementere musikk i spillet, og få på plass flere tester.  <br>

___
**Dato: Torsdag 04.05.2023** <br>
**Sted: Vilvite** <br>
**Deltagere: Sandra, Hilde, Guro, Cecilie, Mattias** <br>
**Referent: Mattias** <br>

*Oppsummering:* <br>
TODO <br>

*Diskusjoner:* <br>
TODO <br>

___

## **Prosjektrapport**

### **Roller**
Vi har også under denne obligen valgt å beholde de samme rollene som tidligere. Derav vil denne delen av rapporten heller fokusere på hvordan rollene har fungert gjennom hele prosjektet.

Hele gruppen er strålende fornøyd med Sandra som teamlead. Vi har valgt å beholde henne i denne rollen gjennom hele prosjekt, med stor suksess. Innad i gruppen har det stort sett vært harmoni, og samtlige har bidratt og jobbet bra sammen, så Sandra ha heldigvis sluppet å måtte overstyre og ta kjipe avgjørelser. Selv om vi gjennom prosjektet har valgt å ikke utnevne en spesifikk kundekontakt, har Sandra som teamlead tatt en del ansvar her. Utover gruppetimene har hun jevnlig kommunisert med gruppeleder, for å avklare det vi har lurt. Dette har vært en viktig del av prosjektet, og vi er alle veldig fornøyd med at Sandra har tatt denne rollen.
___

### **Rollebeskrivelse**
Denne delen av rapporten vil reflektere på hvordan rollene har fungert gjennom hele prosjektet. Vi vil sammenligne hvordan vi satt opp rollebeskrivelsen i Oblig1, men hvordan rollen faktisk har utviklet seg. 

*Utvikler:* <br>
Utvikler rollen, er en rollen vi ikke beskrev under oblig1. Men dette er da blitt en naturlig del av INF112-hverdagen til samtlige på gruppen. 


*Teamleder:* <br>
Teamleder er i stor grad beskrevet over. Under første oblig ble ansvarsområdene til Teamleder beskrevet med å organisere og distribuere oppgaver, overvåke at oppgavene blir ferdigstilt innenfor frister, og har endelig beslutningsmyndighet dersom gruppen er uenig. I etterkant ser vi at de fleste avgjørelser hva gjelder fordeling av oppgaver, er tatt i fellesskap utifra kompetanse og motivasjon. Dette har gjort oppgaven til Sandra noe enklere. Som nevnt over, har hun likevel tatt ansvar på andre områder, eksempevis å være kundekontakt.

*Front-end:* <br>
Front-end ansvarlig er en rolle vi tidligere beskrev som skulle være ansvarlig for å utvikle den delen av spillet som brukeren interagerer med. Dette er en rolle som i stor grad har vært lik gjennom hele prosjektet. Selv om flere av gruppemedlemene har bidratt på den front-end relaterte delen av koden, har Guro vært den som har hatt mest ansvar for dette og sørget for at det blir gjort.


*Gitmaster:* <br> 
Under oblig1 ble Gitmaster beskrevet som en som er leder for gruppens GitLab prosjekt. De har ansvar for å administrere prosjektet, fastsette regler for å sende inn kode og lære opp medlemmene i bruken av GitLab. Denne rollen har vært svært viktig. Flere av gruppemedlemene har hatt problemer med Git underveis, og fått god hjelp av Hilde. Rollen i seg selv har i stor grad vært lik som den ble beskrevet under oblig1.

*Designansvarlig:* <br>
Designansvarlig ble beskrevet som en som har hovedansvaret for utseendet til spillet, inkludert banedesign, poengsystem og målet med spillet. Denne rollen har i stor grad fungert som beskrevet. Dog har denne rollen kun vært operativ i deler av prosjektet. Når det grafiske var på plass, har da heller Cecilie vært smidig og hoppet over som utvikler. Men når det har vært behov for å endre på grafikken, har hun vært den som har hatt ansvar for dette.

*Rapportansvarlig:* <br>
Under oblig1 ble rapportansvarlig beskrevet som en som har har hovedansvaret for å utarbeide den skriftlige delen av prosjektet, samt har det overordnede ansvret for prosjektmetodikken i gruppen. Denne rollen har i stor grad fungert som beskrevet. Mattias har hatt ansvar for å skrive rapporten, og har også vært den som har hatt ansvar for å holde gruppen på rett spor når det gjelder prosjektmetodikk. Sistnevnte har til tider vært utfordrende da det agile rammeverket vi har brukt har vært nytt for deler av gruppen. Dette kan leses mer om under "Erfaringer rundt gruppen og prosjektmetodikk". 


*Testansvarlig:* <br>
Da vi beskrev rollen Testansvarlig sa vi at alle skulle skrive tester kontinuerlig til sine egne metoder. Her ser vi i etterkant at vi har jobbet på en litt annen måte, og kanskje vi har jobbet på en måte som er mindre effektiv enn den ideelt sett skulle ha vært. Samtlige på gruppen har hatt en tendens til å utsette å skrive tester til siste liten. Dette har gjort at vi ved flere innleveringer mangler nok tester. Vi har og opplevd at deler av koden ikke har fungert slik vi ønsker underveis, og kanskje dette kunne vært forhindret med mer kontinuerlig testing.

___
### **Erfaringer rundt gruppen og prosjektmetodikk**
I dette avsnittet vil vi reflektere rundt  hvordan vi har brukt prosjektmetodikken. Vi vil se på hva vi har gjort bra, og hva vi kunne gjort annerledes. <br>

Som nevnt under tidligere obliger har vi både tatt i bruk både en agil sprint og et KanBan/Project-board.

**Hva har vi gjort bra:** <br>
Fra relativt tidlig i prosjektet har vi som gruppe prøvd å følge de satte stegene i sprinten. Selv om det har nytt for mange, og en måtte å jobbe på som vi ikke har gjort tidligere, har alle gjort sitt beste. Vi har vært åpen for å pivotere og teste nye ideer, og ikke holde på en ide bare fordi vi har brukt mye tid på den. Dette har gjort at vi har fått testet ut flere ideer, og kommet frem til en løsning vi er fornøyd med. <br>

Videre har vi blitt bedre og bedre på å bruke Projectboardet aktivt. Det har blitt en naturlig del av å jobbe med INF112. Når vi nå sitter oss ned, enten i fellesskap eller hver for oss, og skal skrive kode, begynner vi med å se på Projectboardet. På denne måten har samtlige i gruppen til enhver tid oversikt over hvilke oppgaver som skal gjøres, hvordan andre team-medlemmer ligger an med siden oppgaver, og hvordan vi skal prioritere arbeidet vårt. <br>

**Hva kunne vi gjort annerledes:** <br>
Det er flere ting vi føler vi kunne gjort annerledes, og mye av dette gjelder spesielt tidlig i prosjektet. Vi kunne nok i større grad i starten diksutert prosjektmetodikken mer. Etterhvert ble vi flinke på å bevisstgjøre hverandre på hvordan vi jobbet og brukte prosjektmetodikker, samt hvorfor vi gjorde det på denne måten. Dette er noe vi kunne startet med tidligere. I tillegg brukte vi kanskje ikke nok tid på velge ut hvilken prosjektmetodikk vi skulle ta i bruk. Nå har det fungert bra, men det kan være det finnes andre måter å jobbe som vi ikke vurderte. <br>


Men alt i alt er vi fornøyd med både valg av prosjektmetodikk, og hvordan teamet har jobbet med det. 
____
### **Gruppedynamikk**
Gruppedynamikken har i likhet med forrige oblig fungert svært bra. Vi har i stor grad jobbet sammen fysisk, og det har vært god steming når vi har møttes. 

Videre vil vi trekke frem det større bilde, og se på hvordan gruppedynamikken har vært gjennom hele prosjektet. I utgangspunktet har den vært gjennomgående bra, men har gradvis forbedret seg utover i prosjektet. Årsaken til dette tror vi er at vi er blitt bedre kjent med hverandre, og derav tryggere på hverander. Det vil si at vi har blitt mer rom for å gi hverandre tilbakemeldinger, konstruktiv kritikk, samt skape diskusjoner for hva vi skal gjøre videre. Dette har vært avgjørende, og er en av årsakene til at vi har oppnåd det resultat vi sitter med i dag. 
___
### **Kommunikasjon**
Kommunikasjonen har i likhet med gruppedynamikken også blitt bedre utover i prosjektet. Dette gjelder både fordi vi har blitt tryggere på hverandre, men også at vi er blitt flinkere til å ta i bruk digitale hjelpemidler når vi ikke har vært fysisk sammen. I starten av prosjeket ble store deler av samhandlingen gjort når vi møttes. Utover i prosjektet skjønte vi at det er viktig å møte fysisk, men og å kunne samarbeide digitalt. Derfor har vi aktivt brukt Discord, og alle dens fordelere. Det være seg deling av kode, skjermdeling etc. Underveis i prosjeketet har eksempelvis medlemmer vært syk, og ikke fått deltatt på fysiske møter. Da har vi vært flinke til å bruke Discord, og dermed fått med alle på det som har skjedd. I tillegg har det gjort det mulig å spørre om hjelp fra andre, dersom man sitter hjemme og koder, og sliter med enkelte ting. 

Alt i alt har kommunikasjonen i gruppen fungert svært bra, og bare blitt bedre utover i prosjektet. 
___

### ***Retroperspektiv***
Retroperspektivet har i stor grad blitt diskutert under *Erfaringer rundt gruppen og prosjektmetodikk*, *Gruppedynamikk*, og *Kommunikasjon*. Det viktigste å trekke frem her er at vi har utviklet oss som kodere, og som et team. Vi har hatt kontinuerlig dialog på hva som fungerer og hva som ikke fungerer, og har derav blitt bedre og bedre underveis i prosjektet. Dette gjelder både prosjektmetodikk, og kodeferdigheter. Som nevnt over er det klart det er ting vi gjerne skulle gjort annerledes hadde vi gjort dette på nytt, men totalt sett er vi fornøyd. <br>

Når vi ser på det tekniske burde vi nok startet å skrive tester tidligere. Dette gjelder både unit-testene, men ikke minst de manuelle testene. Fra tidligere fag på bacheloren var gruppen som helhet mest vant til unit-tester. Dette førte til at vi var litt usikker på hvordan vi skulle teste det grafiske. Vi skjønte etterhvert at det var mest hensiktsmessig å lage manuelle tester til dette. Men skulle vi gjort dette prosjektet på nytt hadde vi nok fokusert mer på testing i tidlig fase, og kanskje hadde selve kodingen gått bedre/raskere. 
___

### **Bidrag til kodebasen**
Bidrag til kodebasen har blitt mer og mer jevn utover i prosjektet. I starten så vi at det var en skjevfordeling. Dette har i hovedsak 3 årsaker:
* I starten var det en del parprogrammering der vi ikke skrev dette i commiten. 
* Forskjellige vaner og kompetansenivå hva gjelder git.
* Utvalgte på gruppen jobbet med det grafiske i starten, og derav hadde færre commits. 

Likevel ser vi at dette har blitt mer jevnt utover i prosjeket. For det første har kompetanse rundt git blitt større innad i gruppen, og samtlige har fått bedre commit vaner. 
Videre ble det grafiske i stor grad ferdigstillt, og alle i teamet kunne bidra mer i koden og derav få flere commits. 

Totalt sett er vi fornøyd med hvordan bidraget til kodebasen har vært. Klart det vil være noen ujevnheter, men vi mener dette er naturlig.

___

## Krav og spesifikasjon

### **Strech goal**
Rapporten til Oblig 3 diskuterte at vi valgte å flytte "boss" level fra å være noe vi skulle implementere til å bli et strech goal. Vi har sett det som nødvendig å prioritere andre deler av koden, og har derfor ikke hatt kapasitet til å få til vårt stretch goal. Gjennom hele prosjektet har vi prioritert å skrive god kode, etter beste praksis. Dette har vi valgt å prioritere, fremfor å implementere mest mulig features. Dette gjør og at vi har valgt å ikke prioritere tid på å få til vårt stretch goal. <br>
___
### **Prioriterte krav i Oblig 4**
I denne obligen har vi i hovedsak fokusert på følgende krav:
5. Spiller skal interagere med terrenget
6. Spiller kan hente ut gjenstander 
7. Fiender/allierte vises i spillet
8. Spiller kan miste liv/dø når den interagerer med terreng/fiender 
12. Spillkarakteren kan foredres ved å få tak i en "PowerUp"

___
### **Nye MVP krav**
13. Spillet lager lyd når spillekarakteren gjør visse handlinger
___
### **Oversikt over brukerhistorier**
Brukerhistoriene er mye det samme som de har vært tidligere. Årsaken til dette er litt som diskutert under *stretch goal*, at vi heller ønsker å implementere det vi har påbegynt på en god måte, enn å legge til mange nye funksjoner. Likevel har vi laget en ny brukerhistorie knyttet til det nye MVP-kravet. 

*Fullførte brukerhistorier*
| Brukerhistorie | Akseptansekriterier | Arbeidsoppgaver | Krav |
|:--------------:|:-------------------:|:---------------:|:-----|
| Som spiller skal jeg se en meny når jeg starter spillet. Der skal jeg ha mulighet til å velge mellom å starte spille, eller se informasjon om spillet | Gitt at spillet startes skal: <br> -spilleren måte en meny med forskjellige valg <br>- Hvert valg skal ta spilleren til et nytt vindu | Metode som viser menyen når programet starter <br> Metode som kan kjøre andre klasser | 1 |
| Som spiller skal jeg kunne se et spillbrett når jeg starter spillet. | Gitt at spilleren starter et spill: <br> -Bakken, taket være tydelig markert <br> -Hindringer være tydelig adskilt fra bakgrunnen | Metode som viser spillbrettet når spiller starter spillet fra menyen | 2 |
| Som spiller skal jeg til enhver se en spiller-objekt og tydelig skille den fra andre objekter | Gitt at spillet spilles skal: <br> - spillfiguren til envher være synlig <br> -spillfiguren skille seg fra andre objekter | Lage en spillfigur som tydelig skiller seg fra bakgrunnen <br> Metode som viser spiller på spillbrettet | 3 |
| Som spiller skal jeg kunne flytte på spilleren | Gitt at spilleren trykker “W”: <br> -skal spilleren hoppe <br> Gitt at spilleren trykker "A" skal: <br> -skal spilleren bevege seg til venstre <br> Gitt at spilleren trykker "D" <br> -skal spilleren bevege seg til høyre | Metode i controller som registrerer tastetrykk <br> Metode som beveger spilleren basert på tastetrykk | 4 |
| Som spiller jeg kunne interagere med terenget | Gitt at spilleren går bort til et hinder skal: <br> - spillfiguren stoppe <br> Gitt at spilleren hopper på et objekt: <br> -skal spilleren kunne lande på et objekt | Metode som gjør gjør at spilleren stopper når den interagerer med terrenget | 5 |
| Som spiller skal jeg kunne hente gjenstander fra kister | Gitt at spillfiguren åpner en kiste: <br> -skal enten spilleren få en "power-up" <br> -eller motta informasjon som senere kan byttes | Metode som gir spilleren gjenstander når den åpner en kiste <br> Metode som gir spilleren våpen når den åpner en kiste | 6 |
| Som spiller skal jeg kunne se fiender og allierte | Gitt at spilleren er på et sted i spillbrettet der det er fiender eller alierte <br> -skal spilleren tydelig klare å skille fiender/alierte fra bakgrunnen <br> -skal spilleren vite forskjell på fiende og alliert | Metode som som lager fiender <br> Metode som lager allierte | 7 |
| Som spiller skal jeg se at jeg mister liv når jeg jeg interagerer med en fiende | Gitt at spilleren interagerer med en fiende <br> -skal spilleren tydelig se hvor mye liv den mister <br> -skal spilleren tydelig se hvor mye liv den har igjen | Metode som gjør at spilleren mister liv ved kontakt med fiender <br> Metode som gjør at spilleren dør når den er tom for liv | 8 |
| Som spiller skal jeg se den grafiske fremstillingen av spillfiguren | Gitt at spillet spilles <br> -skal spilleren se en figur som tydelig markerer seg som "hovedkarakteren" i spillet | Metode som implementerer spillfiguren | 9|
| Som spiller skal jeg ikke se den sorte kanten rundt spillbrettet | Gitt at spilleren beveger seg til kanten av spillbrettet<br> -skal kameratet stoppe <br> -skal spilleren IKKE se den svarte kanten rundt spillbrettet | Metode som implementerer kamera | 11|
| Som spiller skal jeg kunne plukke opp en "PowerUp" og forbedre spillekarakterens ferdigheter | Gitt at spilleren plukker opp en "PowerUp" <br> -skal spillkarakteren bevege seg raskere i en gitt tidsperiode | Metode som implementerer "PowerUp" | 12 |
| Som spiller skal jeg høre lyder fra spillet når spillkarakteren gjør visse handlinger | Gitt spilleren dør <br> -skal spilleren høre en lyd som indikerer at spilleren har dødd <br> Gitt spilleren plukker opp en "PowerUp" <br> -skal spilleren høre en lyd som indikerer at spilleren har plukket opp en "PowerUp" | Metode som implementerer lyd | 13 | TODO Fix lyd

*Ikke-påbegynte brukerhistorier*
| Som spiller skal jeg se en siste "boss" på siste level | Gitt at spilleren kommer til siste level <br> -skal spilleren se en figur som tydelig er en "boss" <br> -skal spilleren kunne kjempe mot denne "bossen" | Metode som implementerer "boss" | 10|

### **Prioritering av oppgaver fremover**
Siden dette er endeling innlevering har vi ingen prioriterte oppgaver fremover. Likevel vil vi legge til at dersom vi skulle jobbet videre med dette prosjekter ville vi fremover prioritert å implementere vårt stretch goal. 

___
### **Bugs**
Totaloversikt over kjente bugs ligger i README.
Se avsnitt om *Utbedring av feil* og *Analyseverktøy* for hvordan vi har jobbet med å fikse bugs i denne innleveringen.

___
## Produkt og kode

### **Utbedring av feil**
Tilbakemeldingen fra forrige oblig inkluderte ingen bugs eller feil. Derimot inneholdt tilbakmeldingen at vi manglet noen funksjoner i spillet for å få full score. Dette var en powerup og lyd/musikk. Dette har vi nå fått på plass. 

Likevel har vi fikset en del bugs, som forrige innlevering inneholdt. Dette er både bugs som vi var klar over selv, og som vi har funnet ved hjelp av SpotBugsDette er blant annet:
* TODO
* TODO
* TODO


___
### **Kjøre koden**
Se README for instruksjoner.

Vi har nå testet spillet på windows, mac og Linux, og den fungerer på alle plattformer.
TODO - sjekke Linux
___
### **Klassediagram**
Se ClassDiagramOblig3.png.

Etter tilbakemelding på oblig 3 har vi nå valgt å lage et mer strukturert klassediagram. 
TODO - se tilbakemelding på oblig 3
TODO - lage klasse diagram

___
### **Tester**
Vi har nå laget tilstrekkelig tester for å dekke kravene. Det som er verdt å merke seg er at vi har 2 typer tester: unit tester og manuelle tester. 
Årsaken til dette er at vi ser verdien av å bruke unit tester der det er mulig. Dette er en effektiv måte å sjekke at koden faktisk gjør det vi ønsker. Likevel møtte vi på utfordringer knyttet til å bruke unit tester på grafikken. Vi har brukt ligbx, og sett det som mer effektivt og formålstjenelig å heller bruk manuelle tester.
Etter samtale med gruppeleder, fikk vi bekreftet at dette var en god løsning, og at vi har nok test-coverage, når vi inkluderer manuelle tester.

___
### **Analyseverktøy**
Under denne obligen har vi tatt i bruk analyseverktøy Spotbugs. Dette er et analyseverktøy som ....

Vi har startet obligen med å ta dette i bruk. Resultat kan sees på SpotbugsStartOfOblig.png. 
Den viser at vi hadde 43 bugs, under forskjellige kategorier. De fleste av disse var av det vi vil kategoriesere som mindre fatal for utfallet av spillet. Samt var det noen vi ikke helt forstod hva betytte. Vi vil prioritere å fikse dem som er mer kritiske for spillet.

På slutten av obligen tok vi en ny runde med Spotbugs. Resultatet kan sees på ...png.

TODO
___